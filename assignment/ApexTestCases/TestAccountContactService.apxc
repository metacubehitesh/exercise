@isTest	
public class TestAccountContactService {
	
    @isTest
    static void addContactIdToAccount(){
        Test.startTest();
        Account acc = createAccount();
        Contact c = createContact('test', acc.Id);
        AccountContactService.addContactIdToAccount(c.Id);
        String contactIdLikeClause = '%'+c.Id+'%';
        Account updatedAccount = [select Id, ContactIDs__c from Account where ContactIDs__c like :contactIdLikeClause];
        Test.stopTest();
        System.assertEquals(updatedAccount.Id, acc.Id);
    }
    
    @isTest
    static void addWrongContactIdToAccount(){
        Test.startTest();
        try{
            Account acc = createAccount();
            AccountContactService.addContactIdToAccount(acc.Id+'0');
            String contactIdLikeClause = '%'+acc.Id+'0%';
        	Account updatedAccount = [select Id, ContactIDs__c from Account where ContactIDs__c like :contactIdLikeClause];
        }catch(Exception e){
            System.assert((e.getMessage().contains('List has no rows for assignment to SObject')
                           ||e.getMessage().contains('Invalid id:')));
        }
        Test.stopTest();
        
    }
    
    static Account createAccount(){
        Account acc = new Account(Name = 'TestTest');
        insert acc;
        return acc;
    }
    
    static Contact createContact(String lastName, Id id){
        Contact c = new Contact(LastName = lastName, AccountId = id);
        insert c;
        return c;
    }
}