trigger StudentClassSizeTrigger on Student__c (before insert) {
    Student__c st = Trigger.New[0];
    Class__c clazz = [select MaxSize__c from Class__c where Id = :st.Class__c];
    Integer stCount = [select count() from Student__c where Class__c = :st.Class__c];
    if(stCount >= clazz.MaxSize__c){
    	st.addError('Class Reached MaxLimit.');
    }
}